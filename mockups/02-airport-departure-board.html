<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HTTP Status Codes - Departure Board</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
    --board-bg: #1a1a1a;
    --flap-bg: #2a2a2a;
    --flap-dark: #222;
    --flap-border: #333;
    --text-amber: #ffcc33;
    --text-dim: #998a4d;
    --frame-color: #3a3a3a;
    --frame-edge: #4a4a4a;
    --frame-shadow: #111;
    --cat-1xx: #58a6ff;
    --cat-2xx: #3fb950;
    --cat-3xx: #d29922;
    --cat-4xx: #ff7b72;
    --cat-5xx: #bc8cff;
}

body {
    font-family: 'JetBrains Mono', monospace;
    background: #0d0d0d;
    color: var(--text-amber);
    min-height: 100vh;
    overflow-x: hidden;
}

/* Subtle noise texture overlay */
body::before {
    content: '';
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: 1000;
}

/* Board frame */
.board-frame {
    max-width: 1400px;
    margin: 20px auto;
    background: var(--board-bg);
    border: 3px solid var(--frame-edge);
    border-radius: 8px;
    box-shadow:
        0 0 0 1px var(--frame-shadow),
        0 4px 20px rgba(0,0,0,0.8),
        inset 0 1px 0 rgba(255,255,255,0.05);
    position: relative;
    overflow: hidden;
}

/* Mounting brackets */
.board-frame::before,
.board-frame::after {
    content: '';
    position: absolute;
    top: -2px;
    width: 40px;
    height: 16px;
    background: linear-gradient(180deg, #555, #333);
    border-radius: 0 0 6px 6px;
    border: 2px solid #444;
    border-top: none;
    z-index: 10;
}
.board-frame::before { left: 60px; }
.board-frame::after { right: 60px; }

/* Header area */
.board-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 20px 30px 16px;
    border-bottom: 2px solid var(--frame-edge);
    background: linear-gradient(180deg, #222 0%, var(--board-bg) 100%);
}

.board-title-area {
    display: flex;
    align-items: center;
    gap: 16px;
}

.board-icon {
    font-size: 28px;
    filter: grayscale(0.3);
}

.board-title {
    font-family: 'Inter', sans-serif;
    font-weight: 700;
    font-size: 28px;
    letter-spacing: 8px;
    text-transform: uppercase;
    color: var(--text-amber);
    text-shadow: 0 0 20px rgba(255,204,51,0.3);
}

.board-subtitle {
    font-size: 11px;
    letter-spacing: 3px;
    color: var(--text-dim);
    margin-top: 2px;
}

/* Clock */
.clock-area {
    text-align: right;
}

.clock {
    font-size: 36px;
    font-weight: 700;
    color: var(--text-amber);
    text-shadow: 0 0 15px rgba(255,204,51,0.4);
    letter-spacing: 3px;
}

.clock-label {
    font-size: 10px;
    letter-spacing: 3px;
    color: var(--text-dim);
    text-transform: uppercase;
    margin-top: 2px;
}

/* Terminal filter buttons */
.filter-bar {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 30px;
    border-bottom: 2px solid var(--frame-edge);
    background: #1e1e1e;
    flex-wrap: wrap;
}

.filter-label {
    font-size: 11px;
    letter-spacing: 3px;
    color: var(--text-dim);
    text-transform: uppercase;
    margin-right: 8px;
}

.filter-btn {
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    font-weight: 600;
    padding: 6px 16px;
    border: 2px solid var(--frame-edge);
    border-radius: 4px;
    background: var(--flap-bg);
    color: var(--text-dim);
    cursor: pointer;
    transition: all 0.2s ease;
    letter-spacing: 1px;
    text-transform: uppercase;
}

.filter-btn:hover {
    border-color: var(--text-amber);
    color: var(--text-amber);
    background: #333;
}

.filter-btn.active {
    border-color: var(--text-amber);
    color: #1a1a1a;
    background: var(--text-amber);
    box-shadow: 0 0 10px rgba(255,204,51,0.3);
}

.filter-btn[data-cat="1xx"].active { background: var(--cat-1xx); border-color: var(--cat-1xx); }
.filter-btn[data-cat="2xx"].active { background: var(--cat-2xx); border-color: var(--cat-2xx); }
.filter-btn[data-cat="3xx"].active { background: var(--cat-3xx); border-color: var(--cat-3xx); }
.filter-btn[data-cat="4xx"].active { background: var(--cat-4xx); border-color: var(--cat-4xx); }
.filter-btn[data-cat="5xx"].active { background: var(--cat-5xx); border-color: var(--cat-5xx); }

.search-box {
    margin-left: auto;
    display: flex;
    align-items: center;
    gap: 8px;
}

.search-box input {
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    padding: 6px 12px;
    border: 2px solid var(--frame-edge);
    border-radius: 4px;
    background: var(--flap-bg);
    color: var(--text-amber);
    outline: none;
    width: 200px;
    letter-spacing: 1px;
}

.search-box input::placeholder {
    color: var(--text-dim);
}

.search-box input:focus {
    border-color: var(--text-amber);
    box-shadow: 0 0 8px rgba(255,204,51,0.2);
}

/* Board table */
.board-table {
    width: 100%;
    border-collapse: collapse;
}

/* Column header row */
.board-table thead th {
    font-family: 'Inter', sans-serif;
    font-size: 10px;
    font-weight: 600;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--text-dim);
    padding: 12px 16px;
    text-align: left;
    border-bottom: 1px solid var(--frame-edge);
    background: #1e1e1e;
    position: sticky;
    top: 0;
    z-index: 5;
}

.board-table thead th:first-child { padding-left: 30px; }
.board-table thead th:last-child { padding-right: 30px; }

/* Row styles */
.board-table tbody tr {
    border-bottom: 1px solid #262626;
    transition: background 0.15s ease;
    cursor: default;
}

.board-table tbody tr:hover {
    background: rgba(255,204,51,0.03);
}

.board-table tbody td {
    padding: 0;
    vertical-align: middle;
    height: 44px;
}

.board-table tbody td:first-child { padding-left: 30px; }
.board-table tbody td:last-child { padding-right: 30px; }

/* Flap cell - the split-flap unit */
.flap-cell {
    display: inline-flex;
    align-items: center;
    height: 34px;
    position: relative;
}

.flap-unit {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: var(--flap-bg);
    border: 1px solid var(--flap-border);
    border-radius: 3px;
    padding: 0 8px;
    height: 32px;
    min-width: 32px;
    position: relative;
    overflow: hidden;
    font-size: 14px;
    font-weight: 600;
    letter-spacing: 1px;
}

/* Split line in the middle of each flap */
.flap-unit::after {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    top: 50%;
    height: 1px;
    background: rgba(0,0,0,0.4);
    pointer-events: none;
}

/* Small rivets on flap sides */
.flap-unit::before {
    content: '';
    position: absolute;
    left: 2px;
    top: 50%;
    transform: translateY(-50%);
    width: 3px;
    height: 3px;
    border-radius: 50%;
    background: #444;
    box-shadow: calc(100% - 7px) 0 0 0 #444;
}

/* Code column */
.col-code .flap-unit {
    font-size: 18px;
    font-weight: 700;
    min-width: 70px;
    height: 34px;
    letter-spacing: 3px;
}

/* Status indicator dot */
.status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    display: inline-block;
    margin-right: 10px;
    flex-shrink: 0;
}

.status-dot.cat-1xx { background: var(--cat-1xx); box-shadow: 0 0 6px var(--cat-1xx); }
.status-dot.cat-2xx { background: var(--cat-2xx); box-shadow: 0 0 6px var(--cat-2xx); }
.status-dot.cat-3xx { background: var(--cat-3xx); box-shadow: 0 0 6px var(--cat-3xx); }
.status-dot.cat-4xx { background: var(--cat-4xx); box-shadow: 0 0 6px var(--cat-4xx); }
.status-dot.cat-5xx { background: var(--cat-5xx); box-shadow: 0 0 6px var(--cat-5xx); }

/* Category column colors */
.cat-text-1xx { color: var(--cat-1xx); }
.cat-text-2xx { color: var(--cat-2xx); }
.cat-text-3xx { color: var(--cat-3xx); }
.cat-text-4xx { color: var(--cat-4xx); }
.cat-text-5xx { color: var(--cat-5xx); }

/* Name column */
.col-name .flap-unit {
    min-width: 180px;
    justify-content: flex-start;
    font-size: 13px;
    font-weight: 500;
    letter-spacing: 0.5px;
}

/* Terminal/Category column */
.col-terminal .flap-unit {
    min-width: 60px;
    font-size: 13px;
    font-weight: 700;
}

/* Description column */
.col-desc {
    font-size: 11px;
    color: #9a9a9a;
    padding: 0 16px;
    max-width: 400px;
    line-height: 1.3;
    font-family: 'Inter', sans-serif;
    font-weight: 400;
}

/* RFC / Gate column */
.col-rfc .flap-unit {
    min-width: 80px;
    font-size: 11px;
    font-weight: 500;
    color: var(--text-dim);
}

/* Now boarding animation for 200 */
@keyframes nowBoarding {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.4; }
}

.now-boarding {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-size: 9px;
    font-weight: 700;
    letter-spacing: 2px;
    color: var(--cat-2xx);
    animation: nowBoarding 1.5s ease-in-out infinite;
    margin-left: 12px;
    text-transform: uppercase;
}

.now-boarding-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--cat-2xx);
    box-shadow: 0 0 8px var(--cat-2xx);
    display: inline-block;
}

/* Flap animation */
@keyframes flapIn {
    0% {
        transform: perspective(400px) rotateX(-90deg);
        opacity: 0;
    }
    40% {
        transform: perspective(400px) rotateX(8deg);
        opacity: 1;
    }
    70% {
        transform: perspective(400px) rotateX(-3deg);
    }
    100% {
        transform: perspective(400px) rotateX(0deg);
    }
}

@keyframes flapFadeIn {
    0% {
        opacity: 0;
        transform: translateY(-4px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

.row-flapping {
    animation: flapFadeIn 0.3s ease-out forwards;
}

.row-flapping .flap-unit {
    animation: flapIn 0.4s ease-out forwards;
}

/* Row hidden / shown */
.board-table tbody tr {
    opacity: 1;
    transition: opacity 0.2s ease;
}

.board-table tbody tr.hidden {
    display: none;
}

/* Footer */
.board-footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 30px;
    border-top: 2px solid var(--frame-edge);
    background: #1e1e1e;
    font-size: 10px;
    color: var(--text-dim);
    letter-spacing: 2px;
    text-transform: uppercase;
}

.footer-legend {
    display: flex;
    gap: 16px;
    align-items: center;
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 6px;
}

.legend-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
}

.count-display {
    font-weight: 600;
    color: var(--text-amber);
}

/* Scrollable area for the table body */
.board-scroll {
    max-height: 620px;
    overflow-y: auto;
    scrollbar-width: thin;
    scrollbar-color: #444 #1a1a1a;
}

.board-scroll::-webkit-scrollbar {
    width: 8px;
}

.board-scroll::-webkit-scrollbar-track {
    background: #1a1a1a;
}

.board-scroll::-webkit-scrollbar-thumb {
    background: #444;
    border-radius: 4px;
}

.board-scroll::-webkit-scrollbar-thumb:hover {
    background: #555;
}

/* Sound effect visual - flap click indicator */
.flap-sound {
    position: fixed;
    bottom: 20px;
    right: 20px;
    font-size: 10px;
    color: var(--text-dim);
    letter-spacing: 2px;
    opacity: 0;
    transition: opacity 0.3s;
}

.flap-sound.active {
    opacity: 1;
}
</style>
</head>
<body>

<div class="board-frame">
    <!-- Header -->
    <div class="board-header">
        <div class="board-title-area">
            <div class="board-icon">&#9992;</div>
            <div>
                <div class="board-title">Departures</div>
                <div class="board-subtitle">HTTP Status Code Terminal</div>
            </div>
        </div>
        <div class="clock-area">
            <div class="clock" id="clock">--:--:--</div>
            <div class="clock-label">Local Time</div>
        </div>
    </div>

    <!-- Filter bar -->
    <div class="filter-bar">
        <span class="filter-label">Terminal</span>
        <button class="filter-btn active" data-cat="all">All Gates</button>
        <button class="filter-btn" data-cat="1xx">1xx Info</button>
        <button class="filter-btn" data-cat="2xx">2xx Success</button>
        <button class="filter-btn" data-cat="3xx">3xx Redirect</button>
        <button class="filter-btn" data-cat="4xx">4xx Client</button>
        <button class="filter-btn" data-cat="5xx">5xx Server</button>
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="Search flights...">
        </div>
    </div>

    <!-- Table header (sticky) -->
    <table class="board-table">
        <thead>
            <tr>
                <th style="width:110px;">Flight</th>
                <th style="width:220px;">Destination</th>
                <th style="width:100px;">Terminal</th>
                <th>Status</th>
                <th style="width:110px;">Gate</th>
                <th style="width:80px;"></th>
            </tr>
        </thead>
    </table>

    <!-- Scrollable body -->
    <div class="board-scroll">
        <table class="board-table" id="boardBody">
            <colgroup>
                <col style="width:110px;">
                <col style="width:220px;">
                <col style="width:100px;">
                <col>
                <col style="width:110px;">
                <col style="width:80px;">
            </colgroup>
            <tbody id="tableBody">
            </tbody>
        </table>
    </div>

    <!-- Footer -->
    <div class="board-footer">
        <div class="footer-legend">
            <div class="legend-item">
                <div class="legend-dot" style="background:var(--cat-1xx);"></div>
                <span>Informational</span>
            </div>
            <div class="legend-item">
                <div class="legend-dot" style="background:var(--cat-2xx);"></div>
                <span>Success</span>
            </div>
            <div class="legend-item">
                <div class="legend-dot" style="background:var(--cat-3xx);"></div>
                <span>Redirection</span>
            </div>
            <div class="legend-item">
                <div class="legend-dot" style="background:var(--cat-4xx);"></div>
                <span>Client Error</span>
            </div>
            <div class="legend-item">
                <div class="legend-dot" style="background:var(--cat-5xx);"></div>
                <span>Server Error</span>
            </div>
        </div>
        <div class="count-display" id="countDisplay">61 Flights</div>
    </div>
</div>

<div class="flap-sound" id="flapSound">CLICK-CLICK-CLICK</div>

<script>
const STATUS_CODES = [
    { code: 100, name: "Continue", symbol: "Cn", cat: "1xx", desc: "The server has received the request headers and the client should proceed to send the request body.", rfc: "RFC 9110" },
    { code: 101, name: "Switching Protocols", symbol: "Sw", cat: "1xx", desc: "The server is switching protocols as requested by the client via the Upgrade header.", rfc: "RFC 9110" },
    { code: 103, name: "Early Hints", symbol: "Eh", cat: "1xx", desc: "Used to return some response headers before the final HTTP message.", rfc: "RFC 8297" },
    { code: 200, name: "OK", symbol: "Ok", cat: "2xx", desc: "The request has succeeded.", rfc: "RFC 9110" },
    { code: 201, name: "Created", symbol: "Cr", cat: "2xx", desc: "The request has been fulfilled and a new resource has been created.", rfc: "RFC 9110" },
    { code: 202, name: "Accepted", symbol: "Ac", cat: "2xx", desc: "The request has been accepted for processing, but processing has not been completed.", rfc: "RFC 9110" },
    { code: 203, name: "Non-Authoritative", symbol: "Na", cat: "2xx", desc: "The returned metadata is not exactly the same as available from the origin server.", rfc: "RFC 9110" },
    { code: 204, name: "No Content", symbol: "Nc", cat: "2xx", desc: "The server has successfully fulfilled the request and there is no additional content.", rfc: "RFC 9110" },
    { code: 205, name: "Reset Content", symbol: "Rc", cat: "2xx", desc: "The server has fulfilled the request and the user agent should reset the document view.", rfc: "RFC 9110" },
    { code: 206, name: "Partial Content", symbol: "Pc", cat: "2xx", desc: "The server is delivering only part of the resource due to a Range header.", rfc: "RFC 9110" },
    { code: 207, name: "Multi-Status", symbol: "Ms", cat: "2xx", desc: "A WebDAV response conveying information about multiple resources.", rfc: "RFC 4918" },
    { code: 208, name: "Already Reported", symbol: "Ar", cat: "2xx", desc: "Used inside a WebDAV response to avoid enumerating internal members repeatedly.", rfc: "RFC 5842" },
    { code: 226, name: "IM Used", symbol: "Im", cat: "2xx", desc: "The server has fulfilled a GET request with instance-manipulations applied.", rfc: "RFC 3229" },
    { code: 300, name: "Multiple Choices", symbol: "Mc", cat: "3xx", desc: "The request has more than one possible response.", rfc: "RFC 9110" },
    { code: 301, name: "Moved Permanently", symbol: "Mp", cat: "3xx", desc: "The URL of the requested resource has been changed permanently.", rfc: "RFC 9110" },
    { code: 302, name: "Found", symbol: "Fd", cat: "3xx", desc: "The URI of the requested resource has been changed temporarily.", rfc: "RFC 9110" },
    { code: 303, name: "See Other", symbol: "So", cat: "3xx", desc: "The server is redirecting to a different resource using GET.", rfc: "RFC 9110" },
    { code: 304, name: "Not Modified", symbol: "Nm", cat: "3xx", desc: "The resource has not been modified since the version specified.", rfc: "RFC 9110" },
    { code: 305, name: "Use Proxy", symbol: "Up", cat: "3xx", desc: "The requested resource must be accessed through a proxy. Deprecated.", rfc: "Deprecated" },
    { code: 307, name: "Temporary Redirect", symbol: "Tr", cat: "3xx", desc: "The server is redirecting to another URI with same method.", rfc: "RFC 9110" },
    { code: 308, name: "Permanent Redirect", symbol: "Pr", cat: "3xx", desc: "The resource has permanently moved, same method required.", rfc: "RFC 9110" },
    { code: 400, name: "Bad Request", symbol: "Br", cat: "4xx", desc: "The server cannot process the request due to a client error.", rfc: "RFC 9110" },
    { code: 401, name: "Unauthorized", symbol: "Un", cat: "4xx", desc: "The request requires authentication.", rfc: "RFC 9110" },
    { code: 402, name: "Payment Required", symbol: "Py", cat: "4xx", desc: "Reserved for future use. Some APIs use it for billing limits.", rfc: "RFC 9110" },
    { code: 403, name: "Forbidden", symbol: "Fb", cat: "4xx", desc: "The client does not have access rights.", rfc: "RFC 9110" },
    { code: 404, name: "Not Found", symbol: "Nf", cat: "4xx", desc: "The server cannot find the requested resource.", rfc: "RFC 9110" },
    { code: 405, name: "Method Not Allowed", symbol: "Ma", cat: "4xx", desc: "The request method is not supported for that resource.", rfc: "RFC 9110" },
    { code: 406, name: "Not Acceptable", symbol: "Nx", cat: "4xx", desc: "The server can't produce a matching response.", rfc: "RFC 9110" },
    { code: 407, name: "Proxy Auth Required", symbol: "Pa", cat: "4xx", desc: "Authentication needs to be done by a proxy.", rfc: "RFC 9110" },
    { code: 408, name: "Request Timeout", symbol: "Rt", cat: "4xx", desc: "The server would like to shut down this unused connection.", rfc: "RFC 9110" },
    { code: 409, name: "Conflict", symbol: "Cf", cat: "4xx", desc: "The request conflicts with the current state of the server.", rfc: "RFC 9110" },
    { code: 410, name: "Gone", symbol: "Gn", cat: "4xx", desc: "The content has been permanently deleted.", rfc: "RFC 9110" },
    { code: 411, name: "Length Required", symbol: "Lr", cat: "4xx", desc: "Content-Length header is not defined.", rfc: "RFC 9110" },
    { code: 412, name: "Precondition Failed", symbol: "Pf", cat: "4xx", desc: "Preconditions in request headers are not met.", rfc: "RFC 9110" },
    { code: 413, name: "Content Too Large", symbol: "Tl", cat: "4xx", desc: "Request entity is larger than server limits.", rfc: "RFC 9110" },
    { code: 414, name: "URI Too Long", symbol: "Ul", cat: "4xx", desc: "The URI is longer than the server will interpret.", rfc: "RFC 9110" },
    { code: 415, name: "Unsupported Media", symbol: "Um", cat: "4xx", desc: "The media format is not supported.", rfc: "RFC 9110" },
    { code: 416, name: "Range Not Satisfiable", symbol: "Rn", cat: "4xx", desc: "The range specified can't be fulfilled.", rfc: "RFC 9110" },
    { code: 417, name: "Expectation Failed", symbol: "Ef", cat: "4xx", desc: "The Expect header expectation can't be met.", rfc: "RFC 9110" },
    { code: 418, name: "I'm a Teapot", symbol: "Tp", cat: "4xx", desc: "An April Fools' joke from 1998 that became beloved.", rfc: "RFC 2324" },
    { code: 421, name: "Misdirected", symbol: "Mr", cat: "4xx", desc: "The request was directed at a wrong server.", rfc: "RFC 9110" },
    { code: 422, name: "Unprocessable", symbol: "Uc", cat: "4xx", desc: "Well-formed but semantically erroneous.", rfc: "RFC 9110" },
    { code: 423, name: "Locked", symbol: "Lk", cat: "4xx", desc: "The resource is locked (WebDAV).", rfc: "RFC 4918" },
    { code: 424, name: "Failed Dependency", symbol: "Dp", cat: "4xx", desc: "Failed due to failure of a previous request.", rfc: "RFC 4918" },
    { code: 425, name: "Too Early", symbol: "Te", cat: "4xx", desc: "Server won't risk processing a replay.", rfc: "RFC 8470" },
    { code: 426, name: "Upgrade Required", symbol: "Ur", cat: "4xx", desc: "Server refuses current protocol.", rfc: "RFC 9110" },
    { code: 428, name: "Precondition Req'd", symbol: "Pq", cat: "4xx", desc: "The server requires conditional requests.", rfc: "RFC 6585" },
    { code: 429, name: "Too Many Requests", symbol: "Tm", cat: "4xx", desc: "Rate limited.", rfc: "RFC 6585" },
    { code: 431, name: "Headers Too Large", symbol: "Hl", cat: "4xx", desc: "Header fields are too large.", rfc: "RFC 6585" },
    { code: 451, name: "Legal Reasons", symbol: "Lg", cat: "4xx", desc: "Unavailable for legal reasons.", rfc: "RFC 7725" },
    { code: 500, name: "Internal Error", symbol: "Is", cat: "5xx", desc: "Unhandled server exception.", rfc: "RFC 9110" },
    { code: 501, name: "Not Implemented", symbol: "Ni", cat: "5xx", desc: "The request method is not supported.", rfc: "RFC 9110" },
    { code: 502, name: "Bad Gateway", symbol: "Bg", cat: "5xx", desc: "Invalid response from upstream server.", rfc: "RFC 9110" },
    { code: 503, name: "Service Unavailable", symbol: "Su", cat: "5xx", desc: "Server not ready - maintenance or overloaded.", rfc: "RFC 9110" },
    { code: 504, name: "Gateway Timeout", symbol: "Gt", cat: "5xx", desc: "Gateway didn't get a response in time.", rfc: "RFC 9110" },
    { code: 505, name: "HTTP Ver. Unsupported", symbol: "Hv", cat: "5xx", desc: "HTTP version not supported.", rfc: "RFC 9110" },
    { code: 506, name: "Variant Negotiates", symbol: "Vn", cat: "5xx", desc: "Internal configuration error.", rfc: "RFC 2295" },
    { code: 507, name: "Insufficient Storage", symbol: "St", cat: "5xx", desc: "Server can't store the representation.", rfc: "RFC 4918" },
    { code: 508, name: "Loop Detected", symbol: "Ld", cat: "5xx", desc: "Infinite loop detected (WebDAV).", rfc: "RFC 5842" },
    { code: 510, name: "Not Extended", symbol: "Ne", cat: "5xx", desc: "Further extensions required.", rfc: "RFC 2774" },
    { code: 511, name: "Network Auth Req'd", symbol: "Nr", cat: "5xx", desc: "Client needs to authenticate for network access.", rfc: "RFC 6585" },
];

const CAT_COLORS = { '1xx': '#58a6ff', '2xx': '#3fb950', '3xx': '#d29922', '4xx': '#ff7b72', '5xx': '#bc8cff' };
const CAT_LABELS = { '1xx': 'Informational', '2xx': 'Success', '3xx': 'Redirection', '4xx': 'Client Error', '5xx': 'Server Error' };

let activeFilter = 'all';
let searchQuery = '';

// Clock
function updateClock() {
    const now = new Date();
    const h = String(now.getHours()).padStart(2, '0');
    const m = String(now.getMinutes()).padStart(2, '0');
    const s = String(now.getSeconds()).padStart(2, '0');
    document.getElementById('clock').textContent = h + ':' + m + ':' + s;
}
setInterval(updateClock, 1000);
updateClock();

// Safe text helper
function setText(el, text) {
    el.textContent = text;
}

// Build table row using DOM methods (no innerHTML)
function buildRow(sc, index) {
    const tr = document.createElement('tr');
    tr.dataset.cat = sc.cat;
    tr.dataset.code = String(sc.code);
    tr.dataset.name = sc.name.toLowerCase();
    tr.dataset.desc = sc.desc.toLowerCase();

    const catColor = CAT_COLORS[sc.cat];
    const isNowBoarding = sc.code === 200;

    // Flight / Code column
    const tdCode = document.createElement('td');
    tdCode.className = 'col-code';
    const flapCellCode = document.createElement('div');
    flapCellCode.className = 'flap-cell';
    const dot = document.createElement('span');
    dot.className = 'status-dot cat-' + sc.cat;
    const flapCode = document.createElement('div');
    flapCode.className = 'flap-unit';
    flapCode.style.color = catColor;
    setText(flapCode, String(sc.code));
    flapCellCode.appendChild(dot);
    flapCellCode.appendChild(flapCode);
    tdCode.appendChild(flapCellCode);
    tr.appendChild(tdCode);

    // Name / Destination column
    const tdName = document.createElement('td');
    tdName.className = 'col-name';
    const flapCellName = document.createElement('div');
    flapCellName.className = 'flap-cell';
    const flapName = document.createElement('div');
    flapName.className = 'flap-unit';
    setText(flapName, sc.name);
    flapCellName.appendChild(flapName);
    if (isNowBoarding) {
        const nb = document.createElement('span');
        nb.className = 'now-boarding';
        const nbDot = document.createElement('span');
        nbDot.className = 'now-boarding-dot';
        nb.appendChild(nbDot);
        const nbText = document.createTextNode(' Now Boarding');
        nb.appendChild(nbText);
        flapCellName.appendChild(nb);
    }
    tdName.appendChild(flapCellName);
    tr.appendChild(tdName);

    // Terminal / Category column
    const tdTerminal = document.createElement('td');
    tdTerminal.className = 'col-terminal';
    const flapCellTerm = document.createElement('div');
    flapCellTerm.className = 'flap-cell';
    const flapTerm = document.createElement('div');
    flapTerm.className = 'flap-unit cat-text-' + sc.cat;
    setText(flapTerm, sc.cat.toUpperCase());
    flapCellTerm.appendChild(flapTerm);
    tdTerminal.appendChild(flapCellTerm);
    tr.appendChild(tdTerminal);

    // Description / Status column
    const tdDesc = document.createElement('td');
    tdDesc.className = 'col-desc';
    setText(tdDesc, sc.desc);
    tr.appendChild(tdDesc);

    // RFC / Gate column
    const tdRfc = document.createElement('td');
    tdRfc.className = 'col-rfc';
    const flapCellRfc = document.createElement('div');
    flapCellRfc.className = 'flap-cell';
    const flapRfc = document.createElement('div');
    flapRfc.className = 'flap-unit';
    setText(flapRfc, sc.rfc);
    flapCellRfc.appendChild(flapRfc);
    tdRfc.appendChild(flapCellRfc);
    tr.appendChild(tdRfc);

    // Empty last column
    const tdEmpty = document.createElement('td');
    tr.appendChild(tdEmpty);

    return tr;
}

function renderBoard() {
    const tbody = document.getElementById('tableBody');
    // Clear existing rows
    while (tbody.firstChild) {
        tbody.removeChild(tbody.firstChild);
    }

    let visibleCount = 0;
    STATUS_CODES.forEach(function(sc, i) {
        const tr = buildRow(sc, i);

        // Apply filter
        const matchesCat = activeFilter === 'all' || sc.cat === activeFilter;
        const matchesSearch = searchQuery === '' ||
            String(sc.code).indexOf(searchQuery) !== -1 ||
            sc.name.toLowerCase().indexOf(searchQuery) !== -1 ||
            sc.desc.toLowerCase().indexOf(searchQuery) !== -1 ||
            sc.rfc.toLowerCase().indexOf(searchQuery) !== -1;

        if (!matchesCat || !matchesSearch) {
            tr.classList.add('hidden');
        } else {
            visibleCount++;
            // Stagger animation
            tr.classList.add('row-flapping');
            tr.style.animationDelay = (visibleCount * 0.03) + 's';
            var flaps = tr.querySelectorAll('.flap-unit');
            flaps.forEach(function(f, fi) {
                f.style.animationDelay = (visibleCount * 0.03 + fi * 0.02) + 's';
            });
        }

        tbody.appendChild(tr);
    });

    document.getElementById('countDisplay').textContent = visibleCount + ' Flight' + (visibleCount !== 1 ? 's' : '');

    // Show flap sound indicator briefly
    var flapEl = document.getElementById('flapSound');
    flapEl.classList.add('active');
    setTimeout(function() { flapEl.classList.remove('active'); }, 800);
}

// Filter buttons
document.querySelectorAll('.filter-btn').forEach(function(btn) {
    btn.addEventListener('click', function() {
        document.querySelectorAll('.filter-btn').forEach(function(b) { b.classList.remove('active'); });
        btn.classList.add('active');
        activeFilter = btn.dataset.cat;
        renderBoard();
    });
});

// Search
document.getElementById('searchInput').addEventListener('input', function(e) {
    searchQuery = e.target.value.toLowerCase().trim();
    renderBoard();
});

// Initial render
renderBoard();
</script>
</body>
</html>
